(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{131:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return c})),n.d(t,"metadata",(function(){return b})),n.d(t,"toc",(function(){return i})),n.d(t,"default",(function(){return o}));var a=n(3),r=n(7),l=(n(0),n(139)),c={title:"Example Projects"},b={unversionedId:"ViewPLUS-SCADA-Example-Projects",id:"ViewPLUS-SCADA-Example-Projects",isDocsHomePage:!1,title:"Example Projects",description:"Alarm Projects",source:"@site/docs/ViewPLUS-SCADA-Example-Projects.md",slug:"/ViewPLUS-SCADA-Example-Projects",permalink:"/docs/ViewPLUS-SCADA-Example-Projects",editUrl:"https://github.com/mikrodev/Documentation/edit/master/documentation/docs/ViewPLUS-SCADA-Example-Projects.md",version:"current",sidebar:"Documents",previous:{title:"ViewPLUS SCADA Web API",permalink:"/docs/ViewPLUS-SCADA-WebApi"},next:{title:"Mikrodiagram Editor",permalink:"/docs/Mikrodiagram-Editor"}},i=[{value:"Alarm Projects",id:"alarm-projects",children:[{value:"Applying Filter to Active Alarms and Records",id:"applying-filter-to-active-alarms-and-records",children:[]}]},{value:"Creating Constantly Increasing Counter Tag",id:"creating-constantly-increasing-counter-tag",children:[]},{value:"User Manager Applications",id:"user-manager-applications",children:[{value:"User Authorization in Dynamic Pages",id:"user-authorization-in-dynamic-pages",children:[]}]},{value:"ViewPLUS SCADA Protocol Applications",id:"viewplus-scada-protocol-applications",children:[{value:"Channel: Database",id:"channel-database",children:[]},{value:"Channel: Global Database",id:"channel-global-database",children:[]},{value:"Channel: JavaScript",id:"channel-javascript",children:[]},{value:"Channel: Server Info",id:"channel-server-info",children:[]}]},{value:"Designing Fancy Tables For Map Views",id:"designing-fancy-tables-for-map-views",children:[]}],s={toc:i};function o(e){var t=e.components,c=Object(r.a)(e,["components"]);return Object(l.b)("wrapper",Object(a.a)({},s,c,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h2",{id:"alarm-projects"},"Alarm Projects"),Object(l.b)("h3",{id:"applying-filter-to-active-alarms-and-records"},"Applying Filter to Active Alarms and Records"),Object(l.b)("p",null,"By creating a filter, redirects to logs and active alarm page that can be made from within the pages."),Object(l.b)("p",null,'From the Scada reporter screen, requested alarm or tag records could be filtered by selecting. In the window that appears after the selection screen, the date duration is selected, and the filter is added by clicking on \u201cSave This Filter\u201d. The added filters appear in "Saved Filters" on the right side of the page.'),Object(l.b)("p",null,"By right click on the saved filter and the link information is received. The received link information is added as a (Web) Link on the component."),Object(l.b)("p",null,Object(l.b)("img",{alt:"active-alarm-01",src:n(791).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 1: Alarm Logs")))),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},'{\n    "alarmfilter": {\n        "alarmclass": "",\n        "itemIdList": [\n            7,\n            6,\n            5,\n            4,\n            3,\n            2,\n            11,\n            10,\n            1,\n            8,\n            9\n        ]\n    },\n    "contentType": 1,\n    "datarange": {\n        "ftip": 0,\n        "higherBound": 0,\n        "limitVal": 0,\n        "lowerBound": 0\n    },\n    "limitRowCount": 500,\n    "queryname": "AlarmLog",\n    "reptypedef": {\n        "periodTip": 0,\n        "repTip": 0,\n        "targetDatetime": "0",\n        "timeFactor": 0\n    },\n    "reservedVal": -1,\n    "tagfilter": {\n        "ftip": 1740730552,\n        "itemIdList": [\n        ],\n        "keywords": "",\n        "parentChannel": "",\n        "parentStation": ""\n    },\n    "timeinterval": {\n        "endTime": "1617262500000",\n        "intervaltip": 2,\n        "startTime": "1617172500000",\n        "timePeriod": "0",\n        "timeValue": "0"\n    },\n    "viewMethod": 0,\n    "vtype": 0\n}\n')),Object(l.b)("p",null,Object(l.b)("img",{alt:"active-alarm-02",src:n(792).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 2: Applied Filter on Alarm Log")))),Object(l.b)("p",null,"In order to redirect the alarm logs with filters, at the end of the link, \u201c||| 1: AlarmName \u201dparameter expression is added.\ne.g for Alarm_5; \u201c ||| 1: Alarm_5 \u201d."),Object(l.b)("p",null,'The expression with "1" indicates the "alarm_id" column on the "Scada Reporter" screen. Each column is expressed in numbers starting from 0 from left to right.'),Object(l.b)("p",null,'The expression specified with "alarm_5" filters according to the alarm ids under the "alarm_id" column. '),Object(l.b)("p",null,Object(l.b)("img",{alt:"active-alarm-03",src:n(793).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 3: Adding Filter on Component by Web Link")))),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},'{\n    "alarmfilter": {\n        "alarmclass": "",\n        "itemIdList": [\n            7,\n            6,\n            5,\n            4,\n            3,\n            2,\n            11,\n            10,\n            1,\n            8,\n            9\n        ]\n    },\n    "contentType": 1,\n    "datarange": {\n        "ftip": 0,\n        "higherBound": 0,\n        "limitVal": 0,\n        "lowerBound": 0\n    },\n    "limitRowCount": 500,\n    "queryname": "AlarmLog",\n    "reptypedef": {\n        "periodTip": 0,\n        "repTip": 0,\n        "targetDatetime": "0",\n        "timeFactor": 0\n    },\n    "reservedVal": -1,\n    "tagfilter": {\n        "ftip": 1740730552,\n        "itemIdList": [\n        ],\n        "keywords": "",\n        "parentChannel": "",\n        "parentStation": ""\n    },\n    "timeinterval": {\n        "endTime": "1617262500000",\n        "intervaltip": 2,\n        "startTime": "1617172500000",\n        "timePeriod": "0",\n        "timeValue": "0"\n    },\n    "viewMethod": 0,\n    "vtype": 0\n}\n||| 1:Alarm_5\n')),Object(l.b)("p",null,Object(l.b)("img",{alt:"active-alarm-04",src:n(794).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 4: Weblink Result for Filtered Alarm: Alarm_5")))),Object(l.b)("p",null,"The expression indicated with \u201c: Alarms\u201d is used to redirect to active alarms page."),Object(l.b)("p",null,Object(l.b)("img",{alt:"active-alarm-05",src:n(795).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 5: Adding \u201c:Alarms\u201d expression to WebLink Line for Showing Activated Alarms")))),Object(l.b)("p",null,Object(l.b)("img",{alt:"active-alarm-06",src:n(796).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 6: Weblink Result for \u201c:Alarms\u201d Expression")))),Object(l.b)("p",null,'The expression ": Alarms ||| 7: Alarm_5" filters according to the seventh column and redirects it to the active alarm page.'),Object(l.b)("p",null,Object(l.b)("img",{alt:"active-alarm-07",src:n(797).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 7: Adding WebLink for Actived & Filtered Alarms")))),Object(l.b)("p",null,Object(l.b)("img",{alt:"active-alarm-08",src:n(798).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 8: Result of Weblink for Activated and Filtered Alarms")))),Object(l.b)("h2",{id:"creating-constantly-increasing-counter-tag"},"Creating Constantly Increasing Counter Tag"),Object(l.b)("p",null,"In some cases, it may be desirable that the trend of the tag value read from the field is continuously increasing (such as reading a counter). In such cases, when the data read from the field is contaminated because of device replacement, project update, and etc.; trends and counter total values may also get contaminated. To prevent this, a mechanism on SCADA can be configured in the following way."),Object(l.b)("p",null,'We need 3 seperate tags to solve the problem. As an example we will create a "CounterTag" tag. In parallel we will create a "CounterTag_latest" tag under "Database Channel" and a "CounterTag_controller" tag under Macro channel to fix field-based distortions so that this tag can read the latest value logged in the database.'),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"CreatingConstantlyIncreasingCounterTag-01",src:n(799).default}))),Object(l.b)("p",null,'We will use the following query in the tag settings to get the most recent value we have logged into the "CounterTag_latest" tag:'),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"select dataval from logs.lct_table where tag_id=2 \n")),Object(l.b)("p",null,'This query will read the last logged value of the "CounterTag" tag with tag ID "2"'),Object(l.b)("p",null,'Finally, we will add the control macro to the "CounterTag_controller" tag. The macro will be:'),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"CreatingConstantlyIncreasingCounterTag-02",src:n(800).default}))),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"[v1=$4e0]\n[IF,v1,3]\n[$4=$6+0]\n[E]\n[v0=$4>$2]\n[IF,v0,3]\n[$2=$4+0]\n[E]\n[$4=$2+0]\n[E]\n")),Object(l.b)("p",null,"This macro consists of 3 main sections:"),Object(l.b)("p",null,'Lines numbered as "1"; reads the last logged value from the database when the server is running for the first time.'),Object(l.b)("p",null,'Lines numbered as "2"; sets the value to be the value on the field device if it is less than the last log value for any reason.'),Object(l.b)("p",null,'Lines numbered as "3"; is the part where macro continuously updates the control tag.'),Object(l.b)("p",null,'In order to prevent erroneous logs in addition to the structure created above, the "log only while increasing" option should be enabled in the tag logging settings.'),Object(l.b)("h2",{id:"user-manager-applications"},"User Manager Applications"),Object(l.b)("h3",{id:"user-authorization-in-dynamic-pages"},"User Authorization in Dynamic Pages"),Object(l.b)("p",null,'The "Run Function" parameter is defined in the relevant object for the dynamic page which is needed restricted access.'),Object(l.b)("p",null,'The "data1 = data2" information changes the tag names starting with data 1 in the directed page to the tag named data2.\nThe information used after the semicolon indicates the access numbers for the page to be redirected.'),Object(l.b)("p",null,Object(l.b)("img",{alt:"function-parameters-01",src:n(801).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 1: Assigning Rights by Run Function Parameters")))),Object(l.b)("p",null,'In order to access the page content specified with "requireReadAccess = {1,2,4}", these numbers must be marked under the User Access Rights.\nIf these numbers are not checked in the User Access Rights window, they cannot access the relevant page.'),Object(l.b)("p",null,Object(l.b)("img",{alt:"useraccessrights-02",src:n(802).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 2: Selecting Rights for User")))),Object(l.b)("p",null,'If the numbers in the "requireReadAccess" content are not selected in the user access right, the following warning screen is displayed when you want to be directed to the page.'),Object(l.b)("p",null,Object(l.b)("img",{alt:"useraccessrights-03",src:n(803).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 3: Example For Unauthorized Access Try")))),Object(l.b)("h2",{id:"viewplus-scada-protocol-applications"},"ViewPLUS SCADA Protocol Applications"),Object(l.b)("h3",{id:"channel-database"},"Channel: Database"),Object(l.b)("p",null,"Channel type used to make special queries from SCADA's own database."),Object(l.b)("h4",{id:"create-channels-and-tags"},"Create Channels And Tags"),Object(l.b)("p",null,"A channel is created by selecting the protocol type database in tag channel editor option."),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"database-channel-01",src:n(804).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 1: Create Database Channel Screen"))))),Object(l.b)("p",null,"A label is created under the database channel."),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"database-channel-02",src:n(805).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 2: Create Database Tag Screen"))))),Object(l.b)("h4",{id:"channel-and-tag-configuration"},"Channel And Tag Configuration"),Object(l.b)("p",null,"Response Timeout: The time in milliseconds that represents the frequency with which the database query is executed.\nQueries are written in the \xabQuery\xbb option of the tag"),Object(l.b)("p",null,"A tag with tag ID 2 is attached to the database and transactions are performed over the database on this tag. Values from 1 to 100 are sent and the log is kept in the database."),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"database-channel-04",src:n(806).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 3: Real Tag ID"))))),Object(l.b)("h4",{id:"connection"},"Connection"),Object(l.b)("p",null,"With this query, it brings the last sent value from the database."),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"database-channel-05",src:n(807).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 4: Database Tag Value and Real Tag Value"))))),Object(l.b)("h3",{id:"channel-global-database"},"Channel: Global Database"),Object(l.b)("p",null,"It is the channel type used to create special queries by connecting to different databases and to transfer these query results to project tags."),Object(l.b)("h4",{id:"postgresql-database"},"PostgreSQL Database"),Object(l.b)("h4",{id:"create-channels-and-tags-1"},"Create Channels And Tags"),Object(l.b)("p",null,"A channel is created by selecting the protocol type globaldatabase in tag channel editor option."),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"globaldatabase-channel-01",src:n(808).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 1: Create Global Database Channel Screen"))))),Object(l.b)("p",null,"A label is created under the globaldatabase channel."),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"globaldatabase-channel-02",src:n(809).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 2: Create Global Database Tag Screen"))))),Object(l.b)("h4",{id:"channel-and-tag-configuration-1"},"Channel And Tag Configuration"),Object(l.b)("p",null,"Information about PostgreSQL database type is entered on the channel screen.\nResponse Timeout: The time in milliseconds that represents the frequency with which the database query is executed."),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"globaldatabase-channel-03",src:n(810).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 3: PostgreSQL Database Configuration"))))),Object(l.b)("p",null,"Queries are written in the \xabQuery\xbb option of the tag."),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"globaldatabase-channel-04",src:n(811).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 4: Query Option of The Tag"))))),Object(l.b)("p",null,"A tag with tag ID 2 is attached to the database and transactions are performed over the database on this tag. Values from 1 to 100 are sent and the log is kept in the database."),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"globaldatabase-channel-05",src:n(812).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 5: Real Tag ID"))))),Object(l.b)("h4",{id:"connection-1"},"Connection"),Object(l.b)("p",null,"The device address information of the label number 2 was written in the query. Device address information is displayed on the server screen."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"select deviceaddress from public.tags where tag_id=2;\n:{${1}}:\n")),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"globaldatabase-channel-06",src:n(813).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 6: Query Answer-1"))))),Object(l.b)("p",null,"With this query, the last value sent from the database is set to the number 1 tag."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"select data_value from logs.tag_log where tag_id=2 order by logtime desc limit 1\n:{${1}}:\n")),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"globaldatabase-channel-07",src:n(814).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 7: Query Answer-2"))))),Object(l.b)("p",null,"In the postgresql database query, the most recent values recorded in the database of the tags with id 2, 3, 4 and 5 were written in tags with ids 1, 6, 7, and 8, respectively."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"}," WITH\n t1 AS (\n  SELECT  data_value from logs.tag_log where tag_id=2 AND data_value IS NOT NULL ORDER BY logtime DESC limit 1 ),\n t2 AS (\n  SELECT  data_value from logs.tag_log where tag_id=3 AND data_value IS NOT NULL ORDER BY logtime DESC limit 1),\n t3 AS (\n  SELECT  data_value from logs.tag_log where tag_id=4 AND data_value IS NOT NULL ORDER BY logtime DESC limit 1),\n t4 AS (\n  SELECT  data_value from logs.tag_log where tag_id=5 AND data_value IS NOT NULL ORDER BY logtime DESC limit 1)\n \n SELECT t1.data_value data1, t2.data_value  data2, t3.data_value  data3, t4.data_value  data4\n FROM t1, t2 ,t3,t4;\n \n :{${1}, ${6} , ${7}, ${8}}:\n")),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"globaldatabase-channel-08",src:n(815).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 8: Query Answer-3"))))),Object(l.b)("h4",{id:"oracle-database"},"Oracle Database"),Object(l.b)("p",null,"This channel is used to connect to the oracle database and pull the desired data."),Object(l.b)("h4",{id:"channel-and-tag-configuration-2"},"Channel And Tag Configuration"),Object(l.b)("p",null,"Information about Oracle database type is entered on the channel screen. The database information of the project is entered on the configuration screen."),Object(l.b)("h4",{id:"connection-2"},"Connection"),Object(l.b)("p",null,"The first data recorded in the oracle database was captured by query. The data in the Oracle database is printed on the label with ID 2."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"select data_value UNTITLED127.tag_log order by logdate fetch first 1 rows only\n:{${2}}:\n")),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"globaldatabase-channel-09",src:n(816).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 9: Oracle Database Configuration"))))),Object(l.b)("p",null,"The last data recorded in the oracle database was captured by query."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"select data_value UNTITLED127.tag_log order by logdate desc fetch first 1 rows only\n:{${2}}:\n")),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"globaldatabase-channel-09",src:n(817).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 10: Query Answer"))))),Object(l.b)("h3",{id:"channel-javascript"},"Channel: JavaScript"),Object(l.b)("p",null,'JavaScript functions could be defined JavaScript channel. You can call various Math functions in your script. You can also use the values of system tags in the form of "${123}". You need to "return" a numeric value for the function result to be written on the "JavaScript Tag".\n*Channel Parameters'),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},"Frame Timeout = The number of milliseconds that represents the frequency at which the\nJavaScript function is called.\n*Tag Parameters"),Object(l.b)("li",{parentName:"ul"},"Query = The JavaScript expression to be called.")),Object(l.b)("h4",{id:"create-channels-and-tags-2"},"Create Channels And Tags"),Object(l.b)("p",null,"A channel is created by selecting the protocol type javascript in tag channel editor option."),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"javascript-channel-01",src:n(818).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 1: Create JavaScript Channel Screen"))))),Object(l.b)("p",null,"A label is created under the database channel."),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"javascript-channel-02",src:n(819).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 2: Create JavaScript Tag Screen"))))),Object(l.b)("h4",{id:"channel-and-tag-configuration-3"},"Channel And Tag Configuration"),Object(l.b)("p",null,"Queries are written in the \xabQuery\xbb option of the tag."),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"javascript-channel-03",src:n(820).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 3: Query Option of The Tag"))))),Object(l.b)("p",null,"Sample javascript codes were written by choosing 2 different tags from the modbus channel."),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"javascript-channel-04",src:n(821).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 4: Modbus Real Tags"))))),Object(l.b)("h4",{id:"connection-3"},"Connection"),Object(l.b)("p",null,"Example 1: The sum of the two labels is shown."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"var3 = ${2}+${3};\nreturn var3;\n")),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"javascript-channel-05",src:n(822).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 5: Query Answer-1"))))),Object(l.b)("p",null,'Example 2:\nIn the first line : define a variable "var1" and assign "the value of tag with id 2" plus "5"\nIn the second line : define a variable "var2" and assign "the value of tag with id 3" plus "3"\nIn the third line : define a variable "subtotal" and assign "the sum of var1 and var2" to it\nIn the last line : evaluate the square root of subtotal and return to that value. The return\nvalue will also be written as the value of the current JavaScript Tag.'),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"var1 = 5+${2};\nvar2 = 3+${3};\nsubtotal=(var1+var2);\nreturn Math.sqrt(subtotal);\n")),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"javascript-channel-06",src:n(823).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 6: Query Answer-2"))))),Object(l.b)("p",null,"Important Note = You cannot set the values of other system tags in JavaScript tag. You\nneed to use Macros to achieve this. Thus the following script will not work:\n${3}= 3 + var1;\nExample 3: Tag values are assigned to variables. Return 1 if the variables are equal.Return 0 if variables are not equal."),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"var1 = ${2};\nvar2 = ${3};\nvar3 = var1===var2 ? 1:0;\nreturn var3;\n")),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"javascript-channel-07",src:n(824).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 7: Query Answer-3"))))),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"javascript-channel-08",src:n(825).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 8: Query Answer-4"))))),Object(l.b)("h3",{id:"channel-server-info"},"Channel: Server Info"),Object(l.b)("p",null,"By using this channel, you can get real-time information such as the num-ber of active alarms, system time, etc."),Object(l.b)("p",null,'Here is a sample "JavaScript" statement to get system information:'),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},'var1 = :ALARMCOUNT(Panel1); \nvar2 = :ALARMCOUNT(Panel2); \ntotalalarms_defined= (var1 +var2 );  \nreturn totalalarms_defined; // It will return the total number of alarms defined for the "Panel1" and "Panel2" alarm classes.\n')),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},'The following keywords are supported in JavaScript.\n:ALARMCOUNT()              \nreturns the number of alarms defined in the system.\n:ALARMCOUNT(ClassName)     \nreturns the alarm number for the "ClassName" alarm class.\n:ACTALARMCOUNT()           \nreturns the number of active alarms defined in the system.\n:ACTALARMCOUNT(ClassName)  \nreturns the number of active alarms for the "ClassName" alarm class.\n:ACKEDALARMCOUNT()         \nreturns the number of confirmed active alarms defined in the system.\n:ACKEDALARMCOUNT(ClassName) \nreturns the number of confirmed active alarms for the "ClassName" alarm class.\n:SYSTEMTIME()              \nreturns the system time of the SCADA server in milliseconds since epoch.\n:CONNECTEDCHANNELS(ChannelName) \nreturns the number of channels with an active connection and a name containing the keyword "ChannelName".\n:UNCONNECTEDCHANNELS(ChannelName) \nreturns the number of channels that are not connected and have a name containing the keyword "ChannelName"\n')),Object(l.b)("p",null,'The channel is created by selecting the protocol type "SERVERINFO" in the Tag Channel Editor.'),Object(l.b)("p",null,Object(l.b)("img",{alt:"serverinfo-01",src:n(826).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 1: Adding Serverinfo Type Channel")))),Object(l.b)("p",null,'By writing queries within the labels created under the "SERVERINFO" channel, information related to channels and alarms can be obtained.\nAccording to the query defined below, the total number of active alarms in the project can be read on the tag.'),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"serverinfo-02",src:n(827).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 2: Adding ActiveAlarmCount Tag by Defining Code"))))),Object(l.b)("p",null,"The total number of active alarms is displayed on the label under the de-fined \u201cSERVERINFO\u201d channel."),Object(l.b)("p",null,Object(l.b)("img",{alt:"serverinfo-03",src:n(828).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 3: Displaying Active Alarms on ViewPLUS Client")))),Object(l.b)("p",null,Object(l.b)("img",{alt:"serverinfo-04",src:n(829).default}),"\n",Object(l.b)("strong",{parentName:"p"},Object(l.b)("em",{parentName:"strong"},Object(l.b)("center",null,"Figure 4: Displaying Active Alarm Information by Tag Monitor on Server Engine")))),Object(l.b)("h2",{id:"designing-fancy-tables-for-map-views"},"Designing Fancy Tables For Map Views"),Object(l.b)("p",null,"You can use some third party applications for designing tables to be used to display data in your Map Views. One of these services could be found on this ",Object(l.b)("a",{parentName:"p",href:"https://divtable.com/table-styler/"},"link")),Object(l.b)("p",null,"By using this service you can stylise you table and auto generate a CSS and HTML code."),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"ViewPLUS-SCADA-Designing-Fancy-Tables-For-Map-Views-01",src:n(830).default}))),Object(l.b)("p",null,'To be able to use the generated code on Map View, you need to put both these code into InfoWindowContent. But before pasting the code into InfoWindowContent; you need to put the CSS code into "',Object(l.b)("style",null," ")," tags."),Object(l.b)("p",null,"The structure of the code should be as following:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"<style> ...CSS Code Here...</style>\n        ... HTML Code Here ...\n")),Object(l.b)("p",null,"For example if your generated CSS code is like :"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},"table.blueTable {\n  border: 1px solid #1C6EA4;\n  background-color: #EEEEEE;\n  width: 100%;\n  text-align: left;\n  border-collapse: collapse;\n}\ntable.blueTable td, table.blueTable th {\n  border: 1px solid #AAAAAA;\n  padding: 3px 2px;\n}\ntable.blueTable tbody td {\n  font-size: 13px;\n}\ntable.blueTable tr:nth-child(even) {\n  background: #D0E4F5;\n}\ntable.blueTable thead {\n  background: #1C6EA4;\n  background: -moz-linear-gradient(top, #5592bb 0%, #327cad 66%, #1C6EA4 100%);\n  background: -webkit-linear-gradient(top, #5592bb 0%, #327cad 66%, #1C6EA4 100%);\n  background: linear-gradient(to bottom, #5592bb 0%, #327cad 66%, #1C6EA4 100%);\n  border-bottom: 2px solid #444444;\n}\ntable.blueTable thead th {\n  font-size: 15px;\n  font-weight: bold;\n  color: #FFFFFF;\n  border-left: 2px solid #D0E4F5;\n}\ntable.blueTable thead th:first-child {\n  border-left: none;\n}\n\ntable.blueTable tfoot {\n  font-size: 14px;\n  font-weight: bold;\n  color: #FFFFFF;\n  background: #D0E4F5;\n  background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);\n  background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);\n  background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);\n  border-top: 2px solid #444444;\n}\ntable.blueTable tfoot td {\n  font-size: 14px;\n}\ntable.blueTable tfoot .links {\n  text-align: right;\n}\ntable.blueTable tfoot .links a{\n  display: inline-block;\n  background: #1C6EA4;\n  color: #FFFFFF;\n  padding: 2px 8px;\n  border-radius: 5px;\n}\n")),Object(l.b)("p",null,"And your table HTML is like:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},'<table class="blueTable">\n <thead>\n <tr>\n <th>head1</th>\n <th>head2</th>\n <th>head3</th>\n </tr>\n </thead>\n <tbody>\n <tr>\n <td>cell1_1</td>\n <td>cell2_1</td>\n <td>cell3_1</td>\n </tr>\n <tr>\n <td>cell1_2</td>\n <td>cell2_2</td>\n <td>cell3_2</td>\n </tr>\n <tr>\n <td>cell1_3</td>\n <td>cell2_3</td>\n <td>cell3_3</td>\n </tr>\n </tbody>\n </table>\n')),Object(l.b)("p",null,"Then your resulting code to be pasted into the InfoWindofContent should be like:"),Object(l.b)("pre",null,Object(l.b)("code",{parentName:"pre"},'<style>\n table.blueTable {\n   border: 1px solid #1C6EA4;\n   background-color: #EEEEEE;\n   width: 100%;\n   text-align: left;\n   border-collapse: collapse;\n }\n table.blueTable td, table.blueTable th {\n   border: 1px solid #AAAAAA;\n   padding: 3px 2px;\n }\n table.blueTable tbody td {\n   font-size: 13px;\n }\n table.blueTable tr:nth-child(even) {\n   background: #D0E4F5;\n }\n table.blueTable thead {\n   background: #1C6EA4;\n   background: -moz-linear-gradient(top, #5592bb 0%, #327cad 66%, #1C6EA4 100%);\n   background: -webkit-linear-gradient(top, #5592bb 0%, #327cad 66%, #1C6EA4 100%);\n   background: linear-gradient(to bottom, #5592bb 0%, #327cad 66%, #1C6EA4 100%);\n   border-bottom: 2px solid #444444;\n }\n table.blueTable thead th {\n   font-size: 15px;\n   font-weight: bold;\n   color: #FFFFFF;\n   border-left: 2px solid #D0E4F5;\n }\n table.blueTable thead th:first-child {\n   border-left: none;\n }\n \n table.blueTable tfoot {\n   font-size: 14px;\n   font-weight: bold;\n   color: #FFFFFF;\n   background: #D0E4F5;\n   background: -moz-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);\n   background: -webkit-linear-gradient(top, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);\n   background: linear-gradient(to bottom, #dcebf7 0%, #d4e6f6 66%, #D0E4F5 100%);\n   border-top: 2px solid #444444;\n }\n table.blueTable tfoot td {\n   font-size: 14px;\n }\n table.blueTable tfoot .links {\n   text-align: right;\n }\n table.blueTable tfoot .links a{\n   display: inline-block;\n   background: #1C6EA4;\n   color: #FFFFFF;\n   padding: 2px 8px;\n   border-radius: 5px;\n }\n </style>\n\n <table class="blueTable">\n <thead>\n <tr>\n <th>head1</th>\n <th>head2</th>\n <th>head3</th>\n </tr>\n </thead>\n <tbody>\n <tr>\n <td>cell1_1</td>\n <td>cell2_1</td>\n <td>cell3_1</td>\n </tr>\n <tr>\n <td>cell1_2</td>\n <td>cell2_2</td>\n <td>cell3_2</td>\n </tr>\n <tr>\n <td>cell1_3</td>\n <td>cell2_3</td>\n <td>cell3_3</td>\n </tr>\n </tbody>\n </table>\n')),Object(l.b)("p",null,"On the Map View the table will look like:"),Object(l.b)("center",null,Object(l.b)("p",null,Object(l.b)("img",{alt:"ViewPLUS-SCADA-Designing-Fancy-Tables-For-Map-Views-02",src:n(831).default}))))}o.isMDXComponent=!0},139:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return g}));var a=n(0),r=n.n(a);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),o=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):b(b({},t),e)),n},d=function(e){var t=o(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},p=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,c=e.parentName,s=i(e,["components","mdxType","originalType","parentName"]),d=o(n),p=a,g=d["".concat(c,".").concat(p)]||d[p]||u[p]||l;return n?r.a.createElement(g,b(b({ref:t},s),{},{components:n})):r.a.createElement(g,b({ref:t},s))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,c=new Array(l);c[0]=p;var b={};for(var i in t)hasOwnProperty.call(t,i)&&(b[i]=t[i]);b.originalType=e,b.mdxType="string"==typeof e?e:a,c[1]=b;for(var s=2;s<l;s++)c[s]=n[s];return r.a.createElement.apply(null,c)}return r.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},791:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/active-alarm-01-9d1606dafc1bba8379f857cb086f7012.png"},792:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/active-alarm-02-44a95e04d6ca5653b041fa433b3a0772.png"},793:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/active-alarm-03-8c3cb15a55c212f801949102e3e9141b.png"},794:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/active-alarm-04-224737a5c1a30a1226e25d849369d16f.png"},795:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/active-alarm-05-ed884d0c855330c4e6a9cd9ad5c0232f.png"},796:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/active-alarm-06-a2bd27268a57ba423e92c5b0c9a859b9.png"},797:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/active-alarm-07-a6cc19f4c3252c835c7567d49078aad7.png"},798:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/active-alarm-08-39d84d81e9d00bbffdde02bab27c4e05.png"},799:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/CreatingConstantlyIncreasingCounterTag-01-ab8c9beb4054668e683513af836deac2.png"},800:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/CreatingConstantlyIncreasingCounterTag-02-2f8a5af76af0b5c41e85df495bfb5a35.png"},801:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/function-parameters-01-c58f950b46df3e90b1352b3d64daf123.png"},802:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/useraccessrights-02-3b51f16f0ad7775986a1630e563b85c7.png"},803:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/useraccessrights-03-f2fdef795c56ed66d316a68ed26dad7b.png"},804:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/database-channel-01-397243c622358a12b8bdf0f511ac7d53.png"},805:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/database-channel-02-704e8fe8893355c14f73d7a5741315e8.png"},806:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/database-channel-04-3cbc09a3e4bacc6ec93b038aec085a76.png"},807:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/database-channel-05-9a7ddc679882c2328f9ac8230ded500a.png"},808:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/globaldatabase-channel-01-fee71999606e51ff44faa679332a8d1c.png"},809:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/globaldatabase-channel-02-6e47a3fdd22d23eb6a8f85def432d222.png"},810:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/globaldatabase-channel-03-28f26c7f585f38752d80fdd64fc5e0bc.png"},811:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/globaldatabase-channel-04-20eafd7e83da7448ffb2518369a2b676.png"},812:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/globaldatabase-channel-05-826068ef5ef0ae73acdba8a21590d4a7.png"},813:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/globaldatabase-channel-06-7126a184fa04e62c4988fd374c89f5c7.png"},814:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/globaldatabase-channel-07-33493abcaa904ac1f982e9b346fbbb97.png"},815:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/globaldatabase-channel-08-92fb3394af2fa6cc58dd91c9544a8e67.png"},816:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/globaldatabase-channel-09-bf139fee1ab5934ab7f3917123a585fd.png"},817:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/globaldatabase-channel-10-3f3b2fdd1b460abc86881ad9e7410325.png"},818:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/javascript-channel-01-bf59c8e4adcc0f7920b10678178ddf6e.png"},819:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/javascript-channel-02-5fc110a43fa0088811bff2ffd47ad817.png"},820:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/javascript-channel-03-63d06a566e5fa0e8416ca7002e411a53.png"},821:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/javascript-channel-04-1610c577da629e50830219a636b2438e.png"},822:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/javascript-channel-05-5bea0da0a4b8a7409ae8d39dba3bdb05.png"},823:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/javascript-channel-06-9a7ffd1c31bd73d0fecf631ad011f4d7.png"},824:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/javascript-channel-07-c86f8ca4602a38751d5fc0e85b692e82.png"},825:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/javascript-channel-08-d6b7528dfcb0be94cfde933eed2b2b54.png"},826:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/serverinfo-01-4ed0d714e2a29c1936b726649d199eff.png"},827:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/serverinfo-02-9a1ffa403e8ceb280c2fd8178424ed9a.png"},828:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/serverinfo-03-2b7bc09cf20e8b3dedd7a23efef04e84.png"},829:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/serverinfo-04-efa3cd2528ea365b977f93e51061cd36.png"},830:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/ViewPLUS-SCADA-Designing-Fancy-Tables-For-Map-Views-01-6d8907ec9bbc456adaf7d199e851c3fc.png"},831:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/ViewPLUS-SCADA-Designing-Fancy-Tables-For-Map-Views-02-501c1fc7112ce44e236c00db396d7b6e.png"}}]);